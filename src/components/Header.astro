---
import Icon from "@xtreat/astro-iconify";
---

<div class="grid w-full items-center justify-center">
  <span
    class="space-y-1 text-center hover:cursor-default"
    style="user-select: none;"
  >
    <div
      class="remove-grayscale group pt-8 grayscale transition-all duration-500"
    >
      <h1
        class="font-parkinsans text-7xl font-light text-amber-300 opacity-0"
        id="headerName"
      >
        Xander Treat
        <button
          class="tooltip tooltip-right absolute -bottom-2 size-6 text-white opacity-0 transition-all duration-200 hover:scale-110 active:scale-100 group-hover:opacity-100"
          id="copy-btn"
          data-tip="Copy"
          aria-label="Copy"
        >
          <Icon class="size-full" flip="horizontal" icon="mingcute:copy-line" />
        </button>
      </h1>
    </div>
    <div class="remove-grayscale grayscale transition-all duration-500">
      <h2
        class="font-parkinsans text-4xl font-semibold text-amber-200 opacity-0"
        id="subHeader"
      >
        Fullstack <br />Software Engineer.
      </h2>
    </div>
  </span>
</div>

<script>
  const btn = document.querySelector("#copy-btn");
  const handleClipboard = () => {
    navigator?.clipboard?.writeText(btn?.parentElement?.textContent || "");
    btn?.setAttribute("data-tip", "Copied!");
    const resetTip = setInterval(() => {
      btn?.setAttribute("data-tip", "Copy");
      clearInterval(resetTip);
    }, 1.5 * 1000);
  };
  btn?.addEventListener("mouseup", handleClipboard);

  import { animate } from "motion";
  import { headerName, subHeaderDiff } from "../json/animationConfig.json";

  animate([
    ["#headerName", { opacity: 100, y: 24 }, { delay: headerName }],
    ["#subHeader", { opacity: 100, y: 24 }, { delay: subHeaderDiff }],
  ]);
</script>
